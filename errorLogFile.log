{"level":"error","message":"sleep is not defined sleep is not defined","stack":"ReferenceError: sleep is not defined\n    at Object.markCheckIn (E:\\MDMS-API\\mdms-api\\src\\services\\attendance.service.js:5:5)\n    at E:\\MDMS-API\\mdms-api\\src\\routes\\api\\attendance.controller.js:19:46\n    at E:\\MDMS-API\\mdms-api\\src\\routes\\middlewares\\asyncRouteHandler.js:5:13\n    at Layer.handle [as handle_request] (E:\\MDMS-API\\mdms-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (E:\\MDMS-API\\mdms-api\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (E:\\MDMS-API\\mdms-api\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at Layer.handle [as handle_request] (E:\\MDMS-API\\mdms-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at E:\\MDMS-API\\mdms-api\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (E:\\MDMS-API\\mdms-api\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (E:\\MDMS-API\\mdms-api\\node_modules\\express\\lib\\router\\index.js:275:10)","timestamp":"2021-07-19 13:51:27"}
{"name":"SequelizeDatabaseError","parent":{"length":187,"name":"error","severity":"ERROR","code":"42703","position":"85","file":"d:\\pginstaller_13.auto\\postgres.windows-x64\\src\\backend\\parser\\parse_relation.c","line":"3514","routine":"errorMissingColumn","sql":"SELECT count(*) AS \"count\" FROM \"MedicineBatchStocks\" AS \"MedicineBatchStock\" WHERE \"MedicineBatchStock\".\"medName\" = 'asd' AND \"MedicineBatchStock\".\"potency\" = '6mg';"},"original":{"length":187,"name":"error","severity":"ERROR","code":"42703","position":"85","file":"d:\\pginstaller_13.auto\\postgres.windows-x64\\src\\backend\\parser\\parse_relation.c","line":"3514","routine":"errorMissingColumn","sql":"SELECT count(*) AS \"count\" FROM \"MedicineBatchStocks\" AS \"MedicineBatchStock\" WHERE \"MedicineBatchStock\".\"medName\" = 'asd' AND \"MedicineBatchStock\".\"potency\" = '6mg';"},"sql":"SELECT count(*) AS \"count\" FROM \"MedicineBatchStocks\" AS \"MedicineBatchStock\" WHERE \"MedicineBatchStock\".\"medName\" = 'asd' AND \"MedicineBatchStock\".\"potency\" = '6mg';","level":"error","message":"column MedicineBatchStock.medName does not exist column MedicineBatchStock.medName does not exist","stack":"SequelizeDatabaseError: column MedicineBatchStock.medName does not exist\n    at Query.formatError (E:\\MDMS-API\\mdms-api\\node_modules\\sequelize\\lib\\dialects\\postgres\\query.js:386:16)\n    at Query.run (E:\\MDMS-API\\mdms-api\\node_modules\\sequelize\\lib\\dialects\\postgres\\query.js:87:18)\n    at processTicksAndRejections (internal/process/task_queues.js:93:5)\n    at async E:\\MDMS-API\\mdms-api\\node_modules\\sequelize\\lib\\sequelize.js:619:16\n    at async PostgresQueryInterface.rawSelect (E:\\MDMS-API\\mdms-api\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:995:18)\n    at async Function.aggregate (E:\\MDMS-API\\mdms-api\\node_modules\\sequelize\\lib\\model.js:1986:19)\n    at async Function.count (E:\\MDMS-API\\mdms-api\\node_modules\\sequelize\\lib\\model.js:2037:12)\n    at async Object.addMedicine (E:\\MDMS-API\\mdms-api\\src\\services\\medicine.service.js:6:22)\n    at async E:\\MDMS-API\\mdms-api\\src\\routes\\api\\medicine.controller.js:26:20\n    at async E:\\MDMS-API\\mdms-api\\src\\routes\\middlewares\\asyncRouteHandler.js:5:7","timestamp":"2021-08-29 05:17:43"}
{"name":"SequelizeUniqueConstraintError","errors":[{"message":"batchNum must be unique","type":"unique violation","path":"batchNum","value":"13","origin":"DB","instance":{"id":null,"batchNum":13,"totalQuantity":300,"manuDate":"2021-08-21T23:38:00.000Z","expiryDate":"2021-09-28T23:38:00.000Z","medId":2,"expenseId":2,"updatedAt":"2021-08-29T00:18:18.952Z","createdAt":"2021-08-29T00:18:18.952Z"},"validatorKey":"not_unique","validatorName":null,"validatorArgs":[]}],"fields":{"batchNum":"13"},"parent":{"length":301,"name":"error","severity":"ERROR","code":"23505","detail":"Key (\"batchNum\")=(13) already exists.","schema":"public","table":"MedicineBatchStocks","constraint":"MedicineBatchStocks_pkey","file":"d:\\pginstaller_13.auto\\postgres.windows-x64\\src\\backend\\access\\nbtree\\nbtinsert.c","line":"656","routine":"_bt_check_unique","sql":"INSERT INTO \"MedicineBatchStocks\" (\"id\",\"batchNum\",\"medId\",\"expenseId\",\"manuDate\",\"expiryDate\",\"totalQuantity\",\"createdAt\",\"updatedAt\") VALUES (DEFAULT,$1,$2,$3,$4,$5,$6,$7,$8) RETURNING \"id\",\"batchNum\",\"medId\",\"expenseId\",\"manuDate\",\"expiryDate\",\"totalQuantity\",\"createdAt\",\"updatedAt\";","parameters":[13,2,2,"2021-08-21 23:38:00.000 +00:00","2021-09-28 23:38:00.000 +00:00",300,"2021-08-29 00:18:18.952 +00:00","2021-08-29 00:18:18.952 +00:00"]},"original":{"length":301,"name":"error","severity":"ERROR","code":"23505","detail":"Key (\"batchNum\")=(13) already exists.","schema":"public","table":"MedicineBatchStocks","constraint":"MedicineBatchStocks_pkey","file":"d:\\pginstaller_13.auto\\postgres.windows-x64\\src\\backend\\access\\nbtree\\nbtinsert.c","line":"656","routine":"_bt_check_unique","sql":"INSERT INTO \"MedicineBatchStocks\" (\"id\",\"batchNum\",\"medId\",\"expenseId\",\"manuDate\",\"expiryDate\",\"totalQuantity\",\"createdAt\",\"updatedAt\") VALUES (DEFAULT,$1,$2,$3,$4,$5,$6,$7,$8) RETURNING \"id\",\"batchNum\",\"medId\",\"expenseId\",\"manuDate\",\"expiryDate\",\"totalQuantity\",\"createdAt\",\"updatedAt\";","parameters":[13,2,2,"2021-08-21 23:38:00.000 +00:00","2021-09-28 23:38:00.000 +00:00",300,"2021-08-29 00:18:18.952 +00:00","2021-08-29 00:18:18.952 +00:00"]},"sql":"INSERT INTO \"MedicineBatchStocks\" (\"id\",\"batchNum\",\"medId\",\"expenseId\",\"manuDate\",\"expiryDate\",\"totalQuantity\",\"createdAt\",\"updatedAt\") VALUES (DEFAULT,$1,$2,$3,$4,$5,$6,$7,$8) RETURNING \"id\",\"batchNum\",\"medId\",\"expenseId\",\"manuDate\",\"expiryDate\",\"totalQuantity\",\"createdAt\",\"updatedAt\";","level":"error","message":"Validation error Validation error","stack":"SequelizeUniqueConstraintError: Validation error\n    at Query.formatError (E:\\MDMS-API\\mdms-api\\node_modules\\sequelize\\lib\\dialects\\postgres\\query.js:344:18)\n    at Query.run (E:\\MDMS-API\\mdms-api\\node_modules\\sequelize\\lib\\dialects\\postgres\\query.js:87:18)\n    at processTicksAndRejections (internal/process/task_queues.js:93:5)\n    at async E:\\MDMS-API\\mdms-api\\node_modules\\sequelize\\lib\\sequelize.js:619:16\n    at async PostgresQueryInterface.insert (E:\\MDMS-API\\mdms-api\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:749:21)\n    at async MedicineBatchStock.save (E:\\MDMS-API\\mdms-api\\node_modules\\sequelize\\lib\\model.js:3954:35)\n    at async Function.create (E:\\MDMS-API\\mdms-api\\node_modules\\sequelize\\lib\\model.js:2207:12)\n    at async Object.addMedicine (E:\\MDMS-API\\mdms-api\\src\\services\\medicine.service.js:28:26)\n    at async E:\\MDMS-API\\mdms-api\\src\\routes\\api\\medicine.controller.js:26:20\n    at async E:\\MDMS-API\\mdms-api\\src\\routes\\middlewares\\asyncRouteHandler.js:5:7","timestamp":"2021-08-29 05:18:18"}
{"name":"SequelizeUniqueConstraintError","errors":[{"message":"batchNum must be unique","type":"unique violation","path":"batchNum","value":"13","origin":"DB","instance":{"id":null,"batchNum":13,"totalQuantity":300,"manuDate":"2021-08-21T23:38:00.000Z","expiryDate":"2021-09-28T23:38:00.000Z","medId":3,"expenseId":3,"updatedAt":"2021-08-29T00:19:31.091Z","createdAt":"2021-08-29T00:19:31.091Z"},"validatorKey":"not_unique","validatorName":null,"validatorArgs":[]}],"fields":{"batchNum":"13"},"parent":{"length":301,"name":"error","severity":"ERROR","code":"23505","detail":"Key (\"batchNum\")=(13) already exists.","schema":"public","table":"MedicineBatchStocks","constraint":"MedicineBatchStocks_pkey","file":"d:\\pginstaller_13.auto\\postgres.windows-x64\\src\\backend\\access\\nbtree\\nbtinsert.c","line":"656","routine":"_bt_check_unique","sql":"INSERT INTO \"MedicineBatchStocks\" (\"id\",\"batchNum\",\"medId\",\"expenseId\",\"manuDate\",\"expiryDate\",\"totalQuantity\",\"createdAt\",\"updatedAt\") VALUES (DEFAULT,$1,$2,$3,$4,$5,$6,$7,$8) RETURNING \"id\",\"batchNum\",\"medId\",\"expenseId\",\"manuDate\",\"expiryDate\",\"totalQuantity\",\"createdAt\",\"updatedAt\";","parameters":[13,3,3,"2021-08-21 23:38:00.000 +00:00","2021-09-28 23:38:00.000 +00:00",300,"2021-08-29 00:19:31.091 +00:00","2021-08-29 00:19:31.091 +00:00"]},"original":{"length":301,"name":"error","severity":"ERROR","code":"23505","detail":"Key (\"batchNum\")=(13) already exists.","schema":"public","table":"MedicineBatchStocks","constraint":"MedicineBatchStocks_pkey","file":"d:\\pginstaller_13.auto\\postgres.windows-x64\\src\\backend\\access\\nbtree\\nbtinsert.c","line":"656","routine":"_bt_check_unique","sql":"INSERT INTO \"MedicineBatchStocks\" (\"id\",\"batchNum\",\"medId\",\"expenseId\",\"manuDate\",\"expiryDate\",\"totalQuantity\",\"createdAt\",\"updatedAt\") VALUES (DEFAULT,$1,$2,$3,$4,$5,$6,$7,$8) RETURNING \"id\",\"batchNum\",\"medId\",\"expenseId\",\"manuDate\",\"expiryDate\",\"totalQuantity\",\"createdAt\",\"updatedAt\";","parameters":[13,3,3,"2021-08-21 23:38:00.000 +00:00","2021-09-28 23:38:00.000 +00:00",300,"2021-08-29 00:19:31.091 +00:00","2021-08-29 00:19:31.091 +00:00"]},"sql":"INSERT INTO \"MedicineBatchStocks\" (\"id\",\"batchNum\",\"medId\",\"expenseId\",\"manuDate\",\"expiryDate\",\"totalQuantity\",\"createdAt\",\"updatedAt\") VALUES (DEFAULT,$1,$2,$3,$4,$5,$6,$7,$8) RETURNING \"id\",\"batchNum\",\"medId\",\"expenseId\",\"manuDate\",\"expiryDate\",\"totalQuantity\",\"createdAt\",\"updatedAt\";","level":"error","message":"Validation error Validation error","stack":"SequelizeUniqueConstraintError: Validation error\n    at Query.formatError (E:\\MDMS-API\\mdms-api\\node_modules\\sequelize\\lib\\dialects\\postgres\\query.js:344:18)\n    at Query.run (E:\\MDMS-API\\mdms-api\\node_modules\\sequelize\\lib\\dialects\\postgres\\query.js:87:18)\n    at processTicksAndRejections (internal/process/task_queues.js:93:5)\n    at async E:\\MDMS-API\\mdms-api\\node_modules\\sequelize\\lib\\sequelize.js:619:16\n    at async PostgresQueryInterface.insert (E:\\MDMS-API\\mdms-api\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:749:21)\n    at async MedicineBatchStock.save (E:\\MDMS-API\\mdms-api\\node_modules\\sequelize\\lib\\model.js:3954:35)\n    at async Function.create (E:\\MDMS-API\\mdms-api\\node_modules\\sequelize\\lib\\model.js:2207:12)\n    at async Object.addMedicine (E:\\MDMS-API\\mdms-api\\src\\services\\medicine.service.js:28:26)\n    at async E:\\MDMS-API\\mdms-api\\src\\routes\\api\\medicine.controller.js:26:20\n    at async E:\\MDMS-API\\mdms-api\\src\\routes\\middlewares\\asyncRouteHandler.js:5:7","timestamp":"2021-08-29 05:19:31"}
